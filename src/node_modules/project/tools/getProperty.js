/**
 * getProperty
 * Date: 26.06.14
 * Vitaliy V. Makeev (w.makeev@gmail.com)
 */

var getProperty = function (entity, propertyName, defaultValue) {

    var chaines = propertyName.split('.'),
        i = 0,
        value = entity;

    while (i < chaines.length && !(value === undefined || value === null)) {
        value = value[chaines[i]];
        i++;
    }

    return defaultValue && (value === undefined || value === null || value === Infinity) ?
        defaultValue : value;
};


module.exports = getProperty;